<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ALBAY STEPS • Bakiye Sorgu</title>
  <style>
    :root{--bg:#0b0b0d;--card:#121317;--red:#d21414;--muted:#b3b3b3}
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
    body{margin:0;background:var(--bg);color:#fff;display:grid;place-items:center;min-height:100dvh}
    .card{width:min(92vw,520px);background:var(--card);padding:28px;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.35);border:1px solid #1e1f26}
    h1{margin:6px 0 18px;font-size:34px;letter-spacing:.6px;text-align:center;color:var(--red)}
    label{font-size:14px;color:var(--muted)}
    input{width:100%;margin-top:6px;background:#0e0f13;color:#fff;border:1px solid #1f2027;padding:14px 16px;border-radius:12px;outline:none;font-size:16px}
    input:focus{border-color:#343646}
    button{width:100%;margin-top:14px;background:var(--red);border:none;color:#fff;padding:14px 16px;font-size:16px;border-radius:12px;cursor:pointer;font-weight:600}
    button:disabled{opacity:.6;cursor:not-allowed}
    .muted{margin-top:12px;color:var(--muted);font-size:14px;text-align:center}
    .result{margin-top:16px;padding:14px 16px;background:#0f1117;border:1px solid #20222c;border-radius:12px;font-size:16px}
    .brand{margin-top:10px;text-align:center;font-size:12px;color:#8a8a8a;letter-spacing:.2px}
  </style>
</head>
<body>
  <div class="card">
    <h1>ALBAY STEPS</h1>

    <label for="email">Kayıtlı e-posta</label>
    <input id="email" type="email" placeholder="ornek@mail.com" />

    <button id="btn">Bakiyemi Göster</button>

    <div id="status" class="muted">Hazır ✅</div>
    <div id="out" class="result" style="display:none"></div>

    <div class="brand">ALBAY • karanlık kırmızı & siyah tema</div>
  </div>

<script>
const API = "https://script.google.com/macros/s/AKfycbyB8DQEXf2LlwA0wPQl0j72c-Z5mP02uRxTeaQfizoFo_llfMLcpM2H9pRdbppGIg9y/exec";

const $ = (s)=>document.querySelector(s);
const emailEl = $("#email");
const btn = $("#btn");
const statusEl = $("#status");
const outEl = $("#out");

btn.addEventListener("click", async () => {
  const email = (emailEl.value || "").trim();
  if(!email){ emailEl.focus(); return; }

  btn.disabled = true;
  statusEl.textContent = "Kontrol ediliyor...";
  outEl.style.display = "none";

  try{
    const url = `${API}?email=${encodeURIComponent(email)}`;
    const res = await fetch(url, { method:"GET", mode:"cors" });
    const text = await res.text();

    // Apps Script metin döndürüyor. Boşsa 0 kabul et.
    const balance = isNaN(Number(text)) ? "0" : String(text);
    outEl.style.display = "block";
    outEl.textContent = `Bakiyen: ${balance}`;
    statusEl.textContent = "Tamamlandı ✅";
  }catch(err){
    statusEl.textContent = "Hata: Sunucuya ulaşılamadı.";
  }finally{
    btn.disabled = false;
  }
});
</script>
</body>
</html>
