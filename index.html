<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ALBAY STEPS</title>
<style>
  :root{--bg:#0b0b0b;--card:#141414;--red:#e01111;--txt:#f2f2f2;--muted:#b9b9b9;}
  *{box-sizing:border-box;font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial;}
  body{margin:0;background:var(--bg);color:var(txt);}
  .wrap{min-height:100dvh;display:grid;place-items:center;padding:20px;}
  .card{width:min(520px,92%);background:var(--card);border-radius:18px;padding:28px;box-shadow:0 14px 40px rgba(0,0,0,.4);}
  .brand{color:var(--red);font-weight:800;font-size:34px;letter-spacing:.5px;text-align:center;margin:0 0 18px;}
  label{display:block;color:var(--muted);font-size:14px;margin:12px 0 6px;}
  input{width:100%;padding:14px 16px;background:#0f0f0f;border:1px solid #262626;border-radius:12px;color:var(--txt);outline:none}
  button{width:100%;margin-top:16px;padding:14px 16px;border:0;border-radius:14px;background:var(--red);color:#fff;font-weight:800;font-size:16px;cursor:pointer}
  .out{margin-top:18px;text-align:center;color:var(--muted);min-height:24px}
  .big{font-size:28px;color:#fff;font-weight:800}
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1 class="brand">ALBAY STEPS</h1>

      <label for="email">E-posta</label>
      <input id="email" type="email" placeholder="ornek@mail.com" autocomplete="email" />

      <button id="btn">Bakiyemi Göster</button>
      <div id="out" class="out">—</div>
    </div>
  </div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbw30Z8TEJOyV_zB63qvhKSknjKzb8_fvReEU9O0nWL7A7wo1b5wKMMCcsP5AHK6NdK0/exec";

const $ = (q)=>document.querySelector(q);
const out = $("#out");
$("#btn").onclick = async () => {
  const email = $("#email").value.trim();
  if(!email){ out.textContent = "E-posta giriniz."; return; }
  out.textContent = "Kontrol ediliyor...";
  try{
    const r = await fetch(`${API_URL}?email=${encodeURIComponent(email)}`, {method:"GET"});
    const txt = await r.text();
    // Beklenen: sadece sayı döner. Değilse 0 kabul.
    const val = isNaN(parseFloat(txt)) ? 0 : parseFloat(txt);
    out.innerHTML = `Bakiyeniz: <span class="big">${val}</span>`;
  }catch(e){
    out.textContent = "Bağlantı hatası. Yeniden deneyin.";
  }
};
</script>
</body>
</html>
