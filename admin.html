  <!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ALBAY Admin</title>
<style>
  :root { --bg:#0b0b0b; --card:#151515; --red:#e31212; --text:#e8e8e8; }
  body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,Arial}
  .wrap{min-height:100dvh;display:grid;place-items:center;padding:24px}
  .card{width:min(640px,100%);background:var(--card);border:1px solid #222;border-radius:18px;padding:26px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
  h1{margin:0 0 18px;font-size:30px;color:#fff}
  .badge{color:#fff;background:var(--red);padding:6px 10px;border-radius:999px;font-weight:700;margin-left:8px}
  .row{display:flex;gap:10px;margin-top:8px}
  input{flex:1;background:#0f0f0f;border:1px solid #2a2a2a;border-radius:12px;padding:14px 16px;color:#fafafa;font-size:16px;outline:none}
  button{background:var(--red);color:#fff;border:0;border-radius:12px;padding:14px 16px;font-weight:700;cursor:pointer;font-size:16px}
  button:disabled{opacity:.6;cursor:not-allowed}
  .out{margin-top:16px;background:#0f0f0f;border:1px solid #232323;border-radius:12px;padding:14px 16px;min-height:52px}
  .hr{height:1px;background:#242424;margin:18px 0}
  .muted{opacity:.8;font-size:14px}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>Admin Panel <span class="badge">ALBAY</span></h1>

    <div class="muted">E-posta ve eklenecek adƒ±m miktarƒ±nƒ± gir ‚Üí Y√ºkle</div>
    <div class="row">
      <input id="email" type="email" placeholder="kullanƒ±cƒ± e-postasƒ±">
      <input id="amount" type="number" step="1" placeholder="eklenecek miktar (√∂rn: 100)">
      <button id="addBtn">Y√ºkle</button>
    </div>
    <div id="out" class="out">Hazƒ±r.</div>

    <div class="hr"></div>

    <div class="muted">Kontrol: Kullanƒ±cƒ±nƒ±n g√ºncel bakiyesini kontrol etmek i√ßin e-posta gir ‚Üí G√∂ster</div>
    <div class="row">
      <input id="checkEmail" type="email" placeholder="kullanƒ±cƒ± e-postasƒ±">
      <button id="checkBtn">G√∂ster</button>
    </div>
    <div id="out2" class="out"></div>
  </div>
</div>

<script>
const API = 'https://script.google.com/macros/s/AKfycbxpHWJ4e3AFg-1urWdBFrbQQMwACCae7I8mCAgw6zWxK0kqgLKFpKNIlCML76F9ys0p/exec';

const emailEl = document.getElementById('email');
const amountEl = document.getElementById('amount');
const addBtn = document.getElementById('addBtn');
const out = document.getElementById('out');

const checkEmailEl = document.getElementById('checkEmail');
const checkBtn = document.getElementById('checkBtn');
const out2 = document.getElementById('out2');

function msg(el, t){ el.textContent = t; }

async function addAmount(){
  const email = emailEl.value.trim();
  const amount = amountEl.value.trim();
  if(!email || !amount){ msg(out, 'L√ºtfen e-posta ve miktar gir.'); return; }
  addBtn.disabled = true; msg(out, 'G√∂nderiliyor...');
  try{
    const body = new URLSearchParams({ email, amount });
    const r = await fetch(API, { method:'POST', headers:{'Content-Type':'application/x-www-form-urlencoded'}, body });
    const txt = (await r.text() || '').trim();
    msg(out, '‚úÖ Y√ºklendi. Yeni bakiye: ' + (txt || '?'));
  }catch(e){
    msg(out, '‚ùå Hata olu≈ütu. Birazdan tekrar dene.');
  }finally{ addBtn.disabled = false; }
}

async function checkBalance(){
  const email = checkEmailEl.value.trim();
  if(!email){ msg(out2, 'E-posta gir.'); return; }
  checkBtn.disabled = true; msg(out2, 'Sorgulanƒ±yor...');
  try{
    const r = await fetch(API + '?email=' + encodeURIComponent(email), { method:'GET', cache:'no-store' });
    const txt = (await r.text()||'0').trim();
    const val = isNaN(Number(txt)) ? 0 : Number(txt);
    msg(out2, 'üìä Bakiye: ' + val);
  }catch(e){
    msg(out2, 'Baƒülantƒ± hatasƒ±.');
  }finally{ checkBtn.disabled = false; }
}

addBtn.addEventListener('click', addAmount);
checkBtn.addEventListener('click', checkBalance);
</script>
</body>
</html>
